---
title: "TerraformでWebアプリケーション(Next.js)をLambdaでホスティングする環境を構築する"
emoji: "📝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["aws", "terraform", "Lambda"]
published: false
---

Lambda Web Adapterを用いてWebアプリケーションをデプロイするというのが、巷では流行っているようです。
かという筆者もよく利用させていただいています。
それを実現するためのインフラを構築することがあるのですが、毎回手作業で構築するのは大変なため、使いまわせるように一般化したIac(Terraform)を作成することにしました。

今回は構成についてと、実際にコードを書いていく際の思考過程をまとめていきたいと思います。

## 構成について

今回実現するのは以下のようなインフラになります。

また、その他にも以下のような要件を満たすこととしています。

- zipファイルまたはDockerイメージのどちらのデプロイにも対応する。

## 成果物

以下が今回の成果物です。

## 構築

モジュールについて

### 変数

変数を以下のように定義しました。
