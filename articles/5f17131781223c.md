---
title: "Terraformã§SAMLã«ã‚ˆã‚‹SSOèªè¨¼ãŒå¯èƒ½ãªAWS Client VPNã‚’æ§‹ç¯‰ã™ã‚‹"
emoji: "ğŸ—’ï¸"
type: "tech"
topics:
  - "aws"
  - "terraform"
  - "vpn"
  - "saml"
published: true
published_at: "2025-01-08 18:23"
---

ä½•æ°—ã«ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«è¨˜äº‹ã‚’æ›¸ãã®ã¯åˆã‚ã¦ã«ãªã‚Šã¾ã™ã€‚
ä¸æŸè€…ã§ã™ãŒã€ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚

ä»Šå›ã¯è«¸ã€…ã®æ¡ä»¶ã‚’æº€ãŸã—ãŸVPNã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã€Terraformã§AWS Client VPNã‚’æ§‹ç¯‰ã™ã‚‹å¿…è¦æ€§ã«é§†ã‚‰ã‚ŒãŸç­†è€…ã“ã¨ãƒ‹ã‚·ã‚­ãŒè©¦è¡ŒéŒ¯èª¤ã‚’ã—ãŸå­¦ç¿’å†…å®¹ã‚’è¨˜éŒ²ã¨ã—ã¦æ®‹ã—ã¾ã—ãŸã€‚
åŒã˜ã“ã¨ã‚’ã—ã‚ˆã†ã¨ã—ã¦å›°ã£ã¦ã„ã‚‹èª°ã‹ã®å½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚

## æ¦‚è¦

AWSã‚’åˆ©ç”¨ã™ã‚‹ã¨ã„ã†å‰æã®ã‚‚ã¨ã€Terraformã§ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™VPNã‚’æ§‹ç¯‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚

- å›ºå®šIPãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®é©ç”¨ãªã©ã®é‹ç”¨ã®æ‰‹é–“ã‚’ã§ãã‚‹é™ã‚Šæ¸›ã‚‰ã—ãŸã„
- SAMLé€£æºã‚’åˆ©ç”¨ã—ã¦SSOã‚’è¡Œã„ãŸã„
- VPNçµŒç”±ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã«æ¥ç¶šã—ãŸã„
    - ã‚¤ãƒ³ãƒˆãƒ©ã®ã‚·ã‚¹ãƒ†ãƒ ã¨é€šä¿¡ã™ã‚‹ãŸã‚ã®VPNã§ã¯ãªã„
- å¿…è¦ãªæ™‚ã ã‘æ§‹ç¯‰ã‚’è¡Œã„åˆ©ç”¨ãŒçµ‚ã‚ã‚Œã°ç ´æ£„ã—ãŸã„ã€‚

ã“ã‚Œã‚‰ã‚’æº€ãŸã—ãŸVPNã‚’ä½œæˆã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®æ‰‹æ®µã‚’ç”¨ã„ã‚‹ã“ã¨ãŒã§ããã†ã ã¨ã„ã†çµè«–ã«ãªã‚Šã¾ã—ãŸã€‚

- AWS Client VPNã‚’æ¡ç”¨ã™ã‚‹
- IaCåŒ–ï¼ˆTerraformï¼‰ã™ã‚‹ã“ã¨ã§å¿…è¦ãªæ™‚ã ã‘å›ºå®šIPã®VPNã‚’ä½œæˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
    - ãã®å ´åˆã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ã¯IAM Identity Centerï¼ˆSAMLé€£æºï¼‰ã§ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç™ºè¡Œã™ã‚‹
    - AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã„ã¤ã§ã‚‚ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç„¡åŠ¹åŒ–ãŒå¯èƒ½
 
ã“ã®è¨˜äº‹ã§ã¯ã“ã‚Œã‚‰ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«è¨˜è¿°ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚„ã€ãã®éš›ã«è©°ã¾ã£ãŸã¨ã“ã‚ãªã©ã‚’æ›¸ã„ã¦ã„ã“ã†ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚

## æˆæœç‰©

ä»¥ä¸‹ãŒä»Šå›ã®æˆæœç‰©ã«ãªã‚Šã¾ã™ã€‚ï¼ˆå‹•ä½œç¢ºèªæ¸ˆã¿ï¼‰
è¨˜äº‹ä¸­ã«è¨˜è¼‰ã—ã¦ã„ã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯å˜ä½“ã§ã¯å‹•ã‹ãªã„å ´åˆãŒã‚ã‚Šã¾ã™ã®ã§ã€
å…¨ä½“ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ã¤ãã¾ã—ã¦ã¯ã“ã¡ã‚‰ã‚’å‚ç…§ã—ã¦ã„ãŸã ã‘ã‚‹ã¨ã‚ã‚ŠãŒãŸã„ã§ã™ã€‚

https://github.com/s-hys31/AWS-Client-VPN-with-Terraform

## å‚è€ƒ

æ§‹ç¯‰ã«ã‚ãŸã£ã¦ã¯ä»¥ä¸‹ã®è¨˜äº‹ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚
ãŠã‹ã’æ§˜ã§ç„¡äº‹æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

https://zenn.dev/aidemy/articles/21f4a82c3e017b
https://qiita.com/sakai00kou/items/4fe05331d5a04bcca772
https://dev.classmethod.jp/articles/aws-client-vpn-customdnsserver

## æ§‹ç¯‰å†…å®¹

![æ§‹æˆ](https://storage.googleapis.com/zenn-user-upload/902e59bbd848-20250108.png)

### VPC + Subnet + NAT Gateway

ã¾ãšã¯VPNã‚’è¨­ç½®ã™ã‚‹VPCã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

VPNã§DNSã®åå‰è§£æ±ºã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã«ã€`enable_dns_support`ã‚’`true`ã«ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®è¨­å®šã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`true`ã«ãªã£ã¦ã„ã‚‹ã®ã§è¨˜è¿°ã—ãªãã¦ã‚‚å•é¡Œãªã„ã‚ˆã†ã§ã™ã€‚

```terraform
resource "aws_vpc" "main" {
  cidr_block           = "10.0.0.0/16"
  enable_dns_support   = true

  tags = {
    Name = "${var.prefix} VPN VPC"
  }
}
```

ç¶šã„ã¦ã‚µãƒ–ãƒãƒƒãƒˆã¨NAT Gatewayã‚’ä½œæˆã—ã¾ã™ã€‚
ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã‹ã‚‰ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®é€šä¿¡ã‚’NAT Gatewayã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¸ã®å…¨ã¦ã®é€šä¿¡ã‚’åŒã˜å›ºå®šã‚°ãƒ­ãƒ¼ãƒãƒ«IPã§è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ï¼ˆåˆ¥ã®è©±ã§ã™ãŒã€Lambdaã«å¯¾ã—ã¦å›ºå®šIPã‚’ä»˜ä¸ã™ã‚‹ã¨ããªã©ã«ã‚‚åŒã˜æ–¹æ³•ã‚’ä½¿ã„ã¾ã—ãŸã€‚ï¼‰

```terraform
resource "aws_subnet" "private" {
  vpc_id     = aws_vpc.main.id
  cidr_block = "10.0.1.0/24"

  tags = {
    Name = "${var.prefix} VPN Private Subnet"
  }
}

resource "aws_subnet" "public" {
  vpc_id     = aws_vpc.main.id
  cidr_block = "10.0.2.0/24"

  tags = {
    Name = "${var.prefix} VPN Public Subnet"
  }
}

resource "aws_internet_gateway" "gw" {
  vpc_id = aws_vpc.main.id

  tags = {
    Name = "${var.prefix} VPN IGW"
  }
}

resource "aws_route_table" "vpc_to_internet" {
  vpc_id = aws_vpc.main.id

  route {
    cidr_block = "0.0.0.0/0"
    gateway_id = aws_internet_gateway.gw.id
  }

  tags = {
    Name = "${var.prefix} VPN Public Route Table"
  }
}

resource "aws_route_table_association" "public_to_internet" {
  subnet_id      = aws_subnet.public.id
  route_table_id = aws_route_table.vpc_to_internet.id
}

resource "aws_nat_gateway" "nat" {
  allocation_id = var.aws_eip_nat_id
  subnet_id     = aws_subnet.public.id

  tags = {
    Name = "${var.prefix} VPN NAT Gateway"
  }
}

resource "aws_route_table" "private_to_nat" {
  vpc_id = aws_vpc.main.id

  route {
    cidr_block     = "0.0.0.0/0"
    nat_gateway_id = aws_nat_gateway.nat.id
  }

  tags = {
    Name = "${var.prefix} VPN Private Route Table"
  }
}

resource "aws_route_table_association" "private_to_nat" {
  subnet_id      = aws_subnet.private.id
  route_table_id = aws_route_table.private_to_nat.id
}
```

### SAML Provider

æœ€åˆã“ã¡ã‚‰ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®ç†ç”±ã§å–ã‚Šçµ„ã‚“ã§ã„ã¾ã›ã‚“ã§ã—ãŸã€‚

- éå»ã«ä¸€ã¤ã®AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å¯¾ã—ã¦Terraformã§è¤‡æ•°ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«ã€GitHubã®OIDCé€£æºã«ãŠã„ã¦ç’°å¢ƒã”ã¨ã«IAM Identity Providerã‚’ä½œã‚ã†ã¨ã™ã‚‹ã¨åŒã˜ã‚‚ã®ã¯ä½œã‚Œãªã„ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãŸ[^1]
    - SAMLã‚‚ä¸‹æ‰‹ã«ä½œã‚‹ã¨ç’°å¢ƒã‚’åˆ†ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹éš›ã«å•é¡Œã«ãªã£ã¦ã—ã¾ã†ï¼Ÿã¨ã„ã†æ‡¸å¿µ

[^1]: GitHubã®OIDCé€£æºã«é–¢ã—ã¦ã¯ã€è¤‡æ•°ç’°å¢ƒã‹ã‚‰åŒæ™‚ã«å‚ç…§ã•ã‚Œã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹ã¾ã¨ã¾ã‚Šã‚’åˆ¥é€”ä½œã‚‹ã“ã¨ã§è§£æ±ºã—ã¦ã„ã¾ã™ã€‚

ã§ã™ãŒã€SAMLã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ¯ã«IdPã«ç™»éŒ²ã—ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç™ºè¡Œã™ã‚‹ãŸã‚ã€ãã®ã‚ˆã†ãªã“ã¨ã¯èµ·ããªã„ã¨è§£é‡ˆã—ã“ã¡ã‚‰ã®IaCåŒ–ã«ã‚‚å–ã‚Šçµ„ã‚“ã§ã¿ã¾ã—ãŸã€‚

ä»Šå›ã¯VPNã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¿ãƒ«ã®äºŒã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«SAMLã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€ãã‚Œãã‚Œã«IAM Saml Providerã‚’ä½œæˆã—ã¾ã™ã€‚

```terraform
resource "aws_iam_saml_provider" "main" {
  name                   = "${random_id.main.hex}-saml-provider"
  saml_metadata_document = file("${path.root}/saml-metadata.xml")

  tags = {
    Name = "${var.prefix} SAML Provider"
  }
}

resource "aws_iam_saml_provider" "self_service_portal" {
  name                   = "${random_id.main.hex}-self-service-portal-saml-provider"
  saml_metadata_document = file("${path.root}/self-service-portal-saml-metadata.xml")

  tags = {
    Name = "${var.prefix} Self Service Portal SAML Provider"
  }
}
```

ä»Šå›ã¯SAML IdPã¨ã—ã¦IAM Identity Centerã‚’åˆ©ç”¨ã—ã¾ã™ã€‚
å‚è€ƒã«ã—ãŸä»¥ä¸‹ã®è¨˜äº‹ã«å¾“ã£ã¦ã€ã‚«ã‚¹ã‚¿ãƒ SAML2.0ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¿½åŠ ã‹ã‚‰VPNã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¿ãƒ«ã‚’è¿½åŠ ã—ã¾ã™ã€‚

https://qiita.com/sakai00kou/items/4fe05331d5a04bcca772#iam-identity-center%E9%96%A2%E9%80%A3%E3%81%AE%E8%A8%AD%E5%AE%9A

IAM Identity Center SAMLãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãŠãã¾ã™ã€‚ã‚»ãƒ«ãƒ•ã‚µãƒ¼ãƒ“ã‚¹ãƒãƒ¼ã‚¿ãƒ«ã®ã»ã†ã®ãƒ•ã‚¡ã‚¤ãƒ«åã¯self-service-portal-saml-metadata.xmlã«å¤‰æ›´ã—ã¦ãŠãã¾ã—ãŸã€‚

Terraformç’°å¢ƒã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹ã“ã¨ã§SAMLãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‚ç…§ã•ã‚Œãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

```dir
.
â€¦ï¼ˆçœç•¥ï¼‰
â”œ main.tf
â”œ saml-metadata.xml
â”” self-service-portal-saml-metadata.xml
```

### Client VPN

Client VPN Endpointã«é©ç”¨ã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚

ã“ã¡ã‚‰ã«é–¢ã—ã¦ã¯é ­ã‚’æŒ¯ã‚Šçµã£ã¦è€ƒãˆã¦ã¿ã¦ãŸã®ã§ã™ãŒã€ãªãœãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆã®CIDRã‚’è¨±å¯ã—ã¦ã‚‹ã®ã‹ã¯ã£ãã‚Šã¨ã¯ç†è§£ã—ã¦ã„ã¾ã›ã‚“ã€‚Client VPN Endpointã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å‘¨ã‚Šã®ç†è§£ãŒé€²ã‚ã°ã‚ã‹ã‚‹ã¨æ€ã†ã®ã§ã€ä»Šã¯ãã‚ŒãŒå¿…è¦ã§ã‚ã‚‹ã¨ã„ã†ã¨ã“ã‚ã§æ€è€ƒã‚’æ­¢ã‚ã¦ã„ã¾ã™ã€‚

```terraform
resource "aws_security_group" "vpn" {
  vpc_id = aws_vpc.main.id

  egress {
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = ["0.0.0.0/0"]
  }

  ingress {
    from_port   = 0
    to_port     = 0
    protocol    = "-1"
    cidr_blocks = [aws_subnet.private.cidr_block]
  }
}
```

æ¬¡ã«Client VPN Endpointã‚’ä½œæˆã—ã¾ã™ã€‚
ä»Šå›ã¯å‰è¿°ã®ã¨ãŠã‚ŠSAMLãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ç”¨ã„ã¦èªè¨¼ã‚’è¡Œã†ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
`authentication_options`ã®`saml_*`ã«ã€IAM Identity Providerã«ç™»éŒ²ã—ãŸå„ç¨®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ARNã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ã§é€£æºãŒå¯èƒ½ã§ã™ã€‚

#### dns_servers

æ§‹ç¯‰ä¸­ã§èº“ã„ãŸã“ã¨ã¨ã—ã¦ã€`dns_servers`ã®è¨­å®šãŒã‚ã‚Šã¾ã™ã€‚
ã“ã¡ã‚‰ã®æŒ‡å®šãŒãªã„å ´åˆã€åŸºæœ¬çš„ã«ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆPCã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼DNSãŒåˆ©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ãªã®ã§ã™ãŒã€ç’°å¢ƒã«ã‚ˆã£ã¦ãƒ‰ãƒ¡ã‚¤ãƒ³åã®è§£æ±ºãŒã§ããªã„ã“ã¨ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚ï¼ˆãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å´ã§ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã‚‹ï¼Ÿï¼‰
ä»Šå›ã¯å›é¿ç­–ã¨ã—ã¦å¤–éƒ¨ã®DNSã‚µãƒ¼ãƒãƒ¼ï¼ˆ`1.1.1.1`ï¼‰ã‚’æŒ‡å®šã—ã¾ã—ãŸã€‚ã“ã‚Œã§VPNã‹ã‚‰ã®åå‰è§£æ±ºãŒè¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ã¾ãŸã€æ¥ç¶šã®ãƒ­ã‚°ã‚’CloudWatch Logsã«è¨˜éŒ²ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

```terraform
resource "aws_ec2_client_vpn_endpoint" "main" {
  server_certificate_arn = var.server_certificate_arn
  client_cidr_block      = "10.10.0.0/22"
  vpc_id                 = var.vpc_id
  split_tunnel           = false
  session_timeout_hours  = 24
  vpn_port               = 443
  self_service_portal    = "enabled"
  dns_servers            = var.dns_servers

  authentication_options {
    type                           = "federated-authentication"
    saml_provider_arn              = aws_iam_saml_provider.main.arn
    self_service_saml_provider_arn = aws_iam_saml_provider.self_service_portal.arn
  }

  connection_log_options {
    enabled              = true
    cloudwatch_log_group = aws_cloudwatch_log_group.vpn.name
  }

  security_group_ids = [var.security_group_id]

  tags = {
    Name = "${var.prefix} VPN Endpoint"
  }
}

resource "aws_cloudwatch_log_group" "vpn" {
  name              = "/aws/ec2/client-vpn-connections-${random_id.main.hex}"
  retention_in_days = 90
}

resource "aws_ec2_client_vpn_network_association" "vpn_to_private" {
  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.main.id
  subnet_id              = var.subnet_id
}

resource "aws_ec2_client_vpn_authorization_rule" "vpn_to_private" {
  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.main.id
  target_network_cidr    = "0.0.0.0/0"
  authorize_all_groups   = true
}

resource "aws_ec2_client_vpn_route" "vpn_to_private" {
  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.main.id
  destination_cidr_block = "0.0.0.0/0"
  target_vpc_subnet_id   = var.subnet_id

  depends_on = [aws_ec2_client_vpn_network_association.vpn_to_private]
}
```

## æ„Ÿæƒ³ãƒ»ã¾ã¨ã‚

ã¨ã„ã†ã‚ã‘ã§ä»Šå›ã¯Terraformã§AWS Client VPNã‚’æ§‹ç¯‰ã—ã¦ã¿ã¾ã—ãŸã€‚

VPNã®æ¡ç”¨ã«ãŠã‘ã‚‹è¦ä»¶ã¯è‰²ã€…ã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€å‰²ã¨è‡ªç”±ã«çµ„ã¿åˆã‚ã›ã‚’ã™ã‚‹ã“ã¨ãŒã§ããŸã‚Šã€å¿…è¦ãªæ™‚ã«ã•ã£ã¨ç”¨æ„ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€AWS Client VPNã¨Terraformã®çµ„ã¿åˆã‚ã›ã¯çµæ§‹è‰¯ã„ãªã¨æ„Ÿã˜ã¦ã¾ã™ã€‚

åˆã‚ã¦ã¾ã¨ã‚‚ã«äººã«èª­ã‚“ã§ã„ãŸã ããŸã‚ã®è¨˜äº‹ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€å‚è€ƒè¨˜äº‹ãã®ã¾ã¾ã«ãªã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹ã®ãŒä¸­ã€…ã©ã†ã—ã¦é›£ã—ã‹ã£ãŸã§ã™ã€‚
å°‘ã—ãšã¤ã§ã‚‚è‰¯ã„è¨˜äº‹ã‚’æ›¸ã‘ã‚‹ã‚ˆã†ã€ã“ã‚Œã‹ã‚‰æŠ€è¡“ãƒ»æ–‡ç« ã®ç ”é‘½ã‚’ç©ã‚“ã§ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚

ä»Šå›ã¯ã”è¦§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚æ¬¡å›ãŒã‚ã‚Œã°ãã®æ™‚ã¯ã¾ãŸã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚